(this.webpackJsonpterrayield=this.webpackJsonpterrayield||[]).push([[3],{2164:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r={average:.67,fast:1,fastest:1.5},i=function(t){var e,n=t.inboundData,r=t.chain,i=n.find((function(t){return t.chain===r}));return Number(null!==(e=null===i||void 0===i?void 0:i.gas_rate)&&void 0!==e?e:0)},a=function(t){var e=t.inboundData,n=t.chain,a=t.feeOptionType;return i({inboundData:e,chain:n})*r[a]}},2165:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(120),a=n(22),o=n(134),c=n(2164),s=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.app})).feeOptionType,n=Object(i.c)((function(t){return t.wallet})).wallet,s=Object(i.c)((function(t){return t.midgard})).inboundData,u=Object(r.useCallback)((function(e){t(o.getWalletByChain(e))}),[t]),l=Object(r.useCallback)((function(){t(o.loadAllWallets())}),[t]);return{getMaxBalance:Object(r.useCallback)((function(t){if(!(null===n||void 0===n?void 0:n[t.L1Chain]))return a.Amount.fromAssetAmount(0,8);var r=Object(c.b)({inboundData:s,chain:t.L1Chain,feeOptionType:e}),i=a.NetworkFee.getNetworkFeeByAsset({asset:t,gasRate:r,direction:"inbound"}),o=Object(a.getAssetBalance)(t,n).amount,u=t.isGasAsset()?o.sub(i.mul(1.5).amount):o;return u.gt(0)?u:a.Amount.fromAssetAmount(0,t.decimal)}),[n,e,s]),reloadAllBalance:l,reloadBalanceByChain:u,wallet:n}}},2166:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(22),a=n(163),o=n(127),c=n(2164),s=function(t){var e=t.inputAsset,n=t.outputAsset,s=Object(a.a)().feeOptionType,u=Object(o.a)(),l=u.inboundData,d=u.pools,p=Object(r.useMemo)((function(){var t=Object(c.b)({inboundData:l,chain:e.L1Chain,feeOptionType:s});return i.NetworkFee.getNetworkFeeByAsset({asset:e,gasRate:t,direction:"inbound"})}),[e,l,s]),f=Object(r.useMemo)((function(){if(!n)return null;var t=Object(c.a)({inboundData:l,chain:n.L1Chain});return i.NetworkFee.getNetworkFeeByAsset({asset:n,gasRate:t,direction:"outbound"})}),[n,l]),b=Object(r.useMemo)((function(){if(!f)return p;var t=new i.AssetAmount(e,i.Amount.fromAssetAmount(f.totalPriceIn(e,d).price,e.decimal));return p.asset.eq(e)?p.add(t):new i.AssetAmount(e,i.Amount.fromAssetAmount(p.totalPriceIn(e,d).price,e.decimal)).add(t)}),[e,p,f,d]),m=Object(r.useMemo)((function(){return b.totalPriceIn(i.Asset.USD(),d)}),[b,d]);return{totalFee:b,inboundFee:p,outboundFee:f,totalFeeInUSD:m}}},2167:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),i=n(770),a=n(127),o=n(142),c=function(){var t=Object(a.a)(),e=t.addNewTxTracker,n=t.updateTxTracker,c=t.clearTxTrackers,s=t.processSubmittedTx;return{submitTransaction:Object(r.useCallback)((function(t){var n=t.type,r=t.submitTx,a=Object(i.a)();return e({uuid:a,type:n,status:o.b.Submitting,submitTx:r,action:null,refunded:null}),a}),[e]),pollTransaction:Object(r.useCallback)((function(t){var e=t.uuid,r=t.submitTx,i=t.type;n({uuid:e,txTracker:{status:o.b.Pending,submitTx:r}}),s({submitTx:r,type:i})}),[n,s]),clearTxTrackers:c,setTxFailed:Object(r.useCallback)((function(t){n({uuid:t,txTracker:{status:o.b.Failed}})}),[n])}}},2168:function(t,e,n){"use strict";var r=n(397),i=n(60),a=n(396),o=n(1143),c=n(1144),s=n(1145),u=n(2169);function l(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}function p(t,e){return e.decode?c(t):t}function f(t){return Array.isArray(t)?t.sort():"object"===typeof t?f(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}function b(t){var e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function m(t){var e=(t=b(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function j(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function O(t,e){l((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return function(e,n,r){var i="string"===typeof n&&n.includes(t.arrayFormatSeparator),a="string"===typeof n&&!i&&p(n,t).includes(t.arrayFormatSeparator);n=a?p(n,t):n;var o=i||a?n.split(t.arrayFormatSeparator).map((function(e){return p(e,t)})):null===n?n:p(n,t);r[e]=o};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),a=Object.create(null);if("string"!==typeof t)return a;if(!(t=t.trim().replace(/^[?#&]/,"")))return a;var o,c=i(t.split("&"));try{for(c.s();!(o=c.n()).done;){var u=o.value;if(""!==u){var d=s(e.decode?u.replace(/\+/g," "):u,"="),b=r(d,2),m=b[0],O=b[1];O=void 0===O?null:["comma","separator"].includes(e.arrayFormat)?O:p(O,e),n(p(m,e),O,a)}}}catch(C){c.e(C)}finally{c.f()}for(var g=0,v=Object.keys(a);g<v.length;g++){var y=v[g],h=a[y];if("object"===typeof h&&null!==h)for(var x=0,A=Object.keys(h);x<A.length;x++){var w=A[x];h[w]=j(h[w],e)}else a[y]=j(h,e)}return!1===e.sort?a:(!0===e.sort?Object.keys(a).sort():Object.keys(a).sort(e.sort)).reduce((function(t,e){var n=a[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=f(n):t[e]=n,t}),Object.create(null))}e.extract=m,e.parse=O,e.stringify=function(t,e){if(!t)return"";l((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);for(var n=function(n){return e.skipNull&&(null===(r=t[n])||void 0===r)||e.skipEmptyString&&""===t[n];var r},r=function(t){switch(t.arrayFormat){case"index":return function(e){return function(n,r){var i=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[d(e,t),"[",i,"]"].join("")]:[[d(e,t),"[",d(i,t),"]=",d(r,t)].join("")])}};case"bracket":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[d(e,t),"[]"].join("")]:[[d(e,t),"[]=",d(r,t)].join("")])}};case"comma":case"separator":return function(e){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[d(e,t),"=",d(r,t)].join("")]:[[n,d(r,t)].join(t.arrayFormatSeparator)]}};default:return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[d(e,t)]:[[d(e,t),"=",d(r,t)].join("")])}}}}(e),i={},o=0,c=Object.keys(t);o<c.length;o++){var s=c[o];n(s)||(i[s]=t[s])}var u=Object.keys(i);return!1!==e.sort&&u.sort(e.sort),u.map((function(n){var i=t[n];return void 0===i?"":null===i?d(n,e):Array.isArray(i)?i.reduce(r(n),[]).join("&"):d(n,e)+"="+d(i,e)})).filter((function(t){return t.length>0})).join("&")},e.parseUrl=function(t,e){e=Object.assign({decode:!0},e);var n=s(t,"#"),i=r(n,2),a=i[0],o=i[1];return Object.assign({url:a.split("?")[0]||"",query:O(m(t),e)},e&&e.parseFragmentIdentifier&&o?{fragmentIdentifier:p(o,e)}:{})},e.stringifyUrl=function(t,n){n=Object.assign({encode:!0,strict:!0},n);var r=b(t.url).split("?")[0]||"",i=e.extract(t.url),a=e.parse(i,{sort:!1}),o=Object.assign(a,t.query),c=e.stringify(o,n);c&&(c="?".concat(c));var s=function(t){var e="",n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(s="#".concat(d(t.fragmentIdentifier,n))),"".concat(r).concat(c).concat(s)},e.pick=function(t,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=e.parseUrl(t,r),a=i.url,o=i.query,c=i.fragmentIdentifier;return e.stringifyUrl({url:a,query:u(o,n),fragmentIdentifier:c},r)},e.exclude=function(t,n,r){var i=Array.isArray(n)?function(t){return!n.includes(t)}:function(t,e){return!n(t,e)};return e.pick(t,i,r)}},2169:function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),a=0;a<r.length;a++){var o=r[a],c=t[o];(i?-1!==e.indexOf(o):e(o,c,t))&&(n[o]=c)}return n}},2171:function(t,e,n){"use strict";n.r(e);var r,i,a,o=n(86),c=n(9),s=n(2),u=n.n(s),l=n(12),d=n(24),p=n(0),f=n(92),b=n(2151),m=n(5),j=n(271),O=n(22),g=n(6),v=n(7),y=n(194),h=n(163),x=n(127),A=n(142),w=n(176),C=n(691),S=n(2168),k=n.n(S),T=function(){var t=k.a.parse(Object(f.g)().search);if(t.refs)try{return JSON.parse(Object(C.decode)(t.refs,y.a))}catch(e){return null}return null},F=n(84),N=n(2165),I=n(357),M=n(2166),_=n(2167),B=n(266),P=n(427),U=n(164),R=n(72),E=n(713),L=n(242),D=n(714),W=n(50),q=n(505),V=Object(g.d)(q.a).withConfig({displayName:"PanelViewstyle__Container",componentId:"gkc5e1-0"})(["display:flex;flex-direction:column;justify-content:center;background:transparent;width:100vw;max-width:670px;margin:auto auto auto auto;padding-top:0px;padding-right:auto;padding-left:auto;align-items:center;"]),H=g.d.div.withConfig({displayName:"PanelViewstyle__ContentPanel",componentId:"gkc5e1-1"})(["display:flex;flex-direction:column;width:100%;align-items:center;padding:16px 8px 16px 8px;",""],W.a.sm(r||(r=Object(c.a)(["\n    padding: 16px 12px 4px 12px;\n  "])))),G=g.d.div.withConfig({displayName:"PanelViewstyle__HeaderContent",componentId:"gkc5e1-2"})(["display:flex;flex-direction:row;display:grid;grid-template-columns:1fr 1fr;justify-content:center;align-items:center;flex:1;padding:0 10px;"]),$=g.d.div.withConfig({displayName:"PanelViewstyle__HeaderMenu",componentId:"gkc5e1-3"})(["display:flex;align-items:center;"]),J=(g.d.div.withConfig({displayName:"PanelViewstyle__HeaderActions",componentId:"gkc5e1-4"})(["display:flex;align-items:center;"]),g.d.div.withConfig({displayName:"PanelViewstyle__PoolDetailLink",componentId:"gkc5e1-5"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";"],Object(v.palette)("text",0)),g.d.div.withConfig({displayName:"PanelViewstyle__MenuIconWrapper",componentId:"gkc5e1-6"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;font-weight:",";svg{color:",";}"],(function(t){return t.selected?"bold":"normal"}),(function(t){return t.selected?Object(v.palette)("primary",0):Object(v.palette)("text",0)})),n(1)),X=function(t){var e=t.meta,n=t.children;return Object(J.jsxs)(V,{children:[Object(J.jsx)(L.a,{title:e,content:e}),Object(J.jsx)(j.ContentTitle,{children:Object(J.jsxs)(G,{children:[Object(J.jsx)($,{}),Object(J.jsx)(D.a,{})]})}),Object(J.jsx)(H,{children:n})]})},Y=g.d.div.withConfig({displayName:"Swapstyle__ToolContainer",componentId:"tnplfj-0"})(["display:box;margin-top:13px;margin-bottom:3px;height:40px;"]),z=(g.d.a.withConfig({displayName:"Swapstyle__WalletSetupLink",componentId:"tnplfj-1"})(["text-transform:lowercase;color:#71f6ab;margin-top:1.5vw;"]),g.d.div.withConfig({displayName:"Swapstyle__SliderWrapper",componentId:"tnplfj-2"})(["margin:auto;width:95%;justify-content:center;align-items:center;"]),g.d.div.withConfig({displayName:"Swapstyle__SwitchPair",componentId:"tnplfj-3"})(["display:flex;justify-content:center;align-items:center;flex:1;svg{width:24px;height:24px;color:",";transform:rotate(90deg);}"],Object(v.palette)("text",5))),K=g.d.div.withConfig({displayName:"Swapstyle__ConfirmButtonContainer",componentId:"tnplfj-4"})(["display:flex;justify-content:center;align-items:center;width:100%;padding:0 1%;margin-top:5vh;margin-bottom:2vh;button{flex:1;}"]),Q=g.d.div.withConfig({displayName:"Swapstyle__ConfirmModalContent",componentId:"tnplfj-5"})(["display:flex;flex-direction:column;padding:10px;"]),Z=g.d.div.withConfig({displayName:"Swapstyle__RecipientAddrWrapper",componentId:"tnplfj-6"})(["margin-top:14px;"]),tt=g.d.div.withConfig({displayName:"Swapstyle__SwapInfo",componentId:"tnplfj-7"})(["display:flex;flex-direction:column;width:100%;padding:8px;margin-top:14px;"]),et=Object(g.d)(j.FancyButton).withConfig({displayName:"Swapstyle__ApproveBtn",componentId:"tnplfj-8"})(["margin-right:8px;"]),nt=(Object(g.d)(j.Panel).withConfig({displayName:"Swapstyle__Container",componentId:"tnplfj-9"})(["display:flex;flex-direction:column;justify-content:center;background:transparent;width:90vw;max-width:500px;margin:auto auto auto auto;padding-top:0px;padding-right:auto;padding-left:auto;border-radius:10px;border:none;align-items:center;"]),Object(g.d)(j.Panel).withConfig({displayName:"Swapstyle__AnimationContainer",componentId:"tnplfj-10"})(["display:flex;flex-direction:column;justify-content:center;background:transparent;width:90vw;max-width:500px;margin:auto auto auto auto;padding-top:0px;padding-right:auto;padding-left:auto;border-radius:10px;border:none;align-items:center;position:fixed;top:8vh;left:50%;transform:translateX(-50%);"]),function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r,i,a,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&2===e.split("_").length){t.next=2;break}return t.abrupt("return",null);case 2:if(i=null===(n=e.split("_"))||void 0===n?void 0:n[0],a=null===(r=e.split("_"))||void 0===r?void 0:r[1],i&&a){t.next=6;break}return t.abrupt("return",null);case 6:if(o=O.Asset.decodeFromURL(i),c=O.Asset.decodeFromURL(a),o&&c){t.next=10;break}return t.abrupt("return",null);case 10:return t.next=12,o.setDecimal();case 12:return t.next=14,c.setDecimal();case 14:return t.abrupt("return",{inputAsset:o,outputAsset:c});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),rt=function(t){if(t.inputAsset.isSynth||t.outputAsset.isSynth){if(t.synthType===O.SynthType.MINT)return A.c.Mint;if(t.synthType===O.SynthType.REDEEM)return A.c.Redeem}return A.c.Swap},it=g.d.div(i||(i=Object(c.a)(["\n  background-image: linear-gradient(\n    120deg,\n    ",",\n    #black\n  );\n  border-radius: 4px;\n  height: 145px;\n"])),Object(v.palette)("background",6)),at=g.d.div(a||(a=Object(c.a)(["\n  background-image: linear-gradient(\n    120deg,\n    ",",\n    #black\n  );\n  border-radius: 4px;\n  height: 145px;\n"])),Object(v.palette)("background",6)),ot=function(t){var e=t.inputAsset,n=t.outputAsset,r=Object(f.f)(),i=Object(N.a)(),a=i.wallet,c=i.getMaxBalance,s=Object(x.a)(),g=s.pools,v=s.poolLoading,C=s.inboundData,S=Object(h.a)(),k=S.slippageTolerance,T=S.affiliates,B=Object(I.a)().haltedChains,L=Object(w.a)(),D=L.isWalletLoading,W=L.setIsConnectModalOpen,q=Object(p.useMemo)((function(){return Object(O.hasConnectedWallet)(a)}),[a]),V=Object(p.useCallback)((function(){q||D||W(!0)}),[q,D,W]),H=Object(p.useMemo)((function(){return null===T||void 0===T?void 0:T.filter((function(t){return F.a.validateAddress({chain:m.m.THORChain,address:t})}))}),[T]),G=Object(_.a)(),$=G.submitTransaction,nt=G.pollTransaction,ot=G.setTxFailed,ct=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(x.a)().approveStatus,r=Object(w.a)().wallet,i=Object(p.useState)(!e||null),a=Object(d.a)(i,2),o=a[0],c=a[1],s=Object(p.useMemo)((function(){return Object(O.hasConnectedWallet)(r)}),[r]);return Object(p.useEffect)((function(){e&&s?function(){var e=Object(l.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===n||void 0===n?void 0:n[t.toString()])===A.b.Success&&c(!0),e.next=3,F.a.isAssetApproved(t);case 3:r=e.sent,c(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():c(!0)}),[t,n,e,s]),{assetApproveStatus:Object(p.useMemo)((function(){return null===n||void 0===n?void 0:n[t.toString()]}),[n,t]),isApproved:o}}(e,!!a),st=ct.isApproved,ut=ct.assetApproveStatus,lt=Object(p.useMemo)((function(){var t,r,i=C.find((function(t){return t.chain===e.chain})),a=C.find((function(t){return t.chain===n.chain})),o=B[e.L1Chain],c=B[n.L1Chain];return null!==(t=null===i||void 0===i?void 0:i.halted)&&void 0!==t&&t||null!==(r=null===a||void 0===a?void 0:a.halted)&&void 0!==r&&r||o||c}),[C,B,e,n]),dt=Object(M.a)({inputAsset:e,outputAsset:n}),pt=dt.inboundFee,ft=dt.outboundFee,bt=dt.totalFee,mt=Object(p.useMemo)((function(){return Object(O.hasWalletConnected)({wallet:a,inputAssets:[e]})}),[a,e]),jt=Object(p.useMemo)((function(){return g.filter((function(t){return"available"===t.detail.status}))}),[g]),Ot=Object(p.useMemo)((function(){var t=jt.map((function(t){return t.asset}));return t.push(O.Asset.RUNE()),t.push(O.Asset.LUNA()),t.push(O.Asset.UST()),t}),[jt]),gt=Object(p.useMemo)((function(){return jt.map((function(t){var e=t.asset,n=new O.Asset(e.chain,e.symbol,!0);return n.isSynth=!0,n}))}),[jt]),vt=Object(p.useMemo)((function(){return U.a?[].concat(Object(o.a)(Ot),Object(o.a)(gt)):Ot}),[Ot,gt]),yt=Object(p.useState)(O.Amount.fromAssetAmount(0,8)),ht=Object(d.a)(yt,2),xt=ht[0],At=ht[1],wt=Object(p.useState)(""),Ct=Object(d.a)(wt,2),St=Ct[0],kt=Ct[1],Tt=Object(p.useState)(""),Ft=Object(d.a)(Tt,2),Nt=Ft[0],It=Ft[1],Mt=Object(p.useState)(!1),_t=Object(d.a)(Mt,2),Bt=_t[0],Pt=_t[1],Ut=Object(p.useState)(!1),Rt=Object(d.a)(Ut,2),Et=Rt[0],Lt=Rt[1],Dt=Object(p.useMemo)((function(){return e.isLTC()||e.isBTC()||e.isDOGE()?new O.Amount(0,O.AmountType.ASSET_AMOUNT,4):xt.mul(y.b)}),[xt,e]),Wt=Object(p.useMemo)((function(){return e.isLTC()||e.isBTC()||e.isDOGE()?bt:bt.add(new O.AssetAmount(e,Dt)).totalPriceIn(O.Asset.USD(),jt)}),[Dt,e,jt,bt]),qt=Object(p.useMemo)((function(){return F.a.validateAddress({chain:n.L1Chain,address:Nt})}),[n,Nt]),Vt=Object(p.useMemo)((function(){if(v)return null;try{var t=new O.AssetAmount(e,xt),r=new O.AssetAmount(e,O.Amount.fromAssetAmount(pt.totalPriceIn(e,jt).price,e.decimal)),i=ft?new O.AssetAmount(n,O.Amount.fromAssetAmount(ft.totalPriceIn(n,jt).price,n.decimal)):new O.AssetAmount(n,O.Amount.fromAssetAmount(0,n.decimal));return new O.Swap({inputAsset:e,outputAsset:n,pools:jt,amount:t,slip:k,fee:{inboundFee:r,outboundFee:i}})}catch(a){return console.log(a),null}}),[e,n,jt,xt,k,v,pt,ft]),Ht=Object(p.useMemo)((function(){return Vt?Vt.outputAmountAfterFee.amount:O.Amount.fromAssetAmount(0,8)}),[Vt]),Gt=Object(p.useMemo)((function(){return Vt?Vt.slip:new O.Percent(0)}),[Vt]),$t=Object(p.useMemo)((function(){return Vt?Vt.minOutputAmount:O.Amount.fromAssetAmount(0,8)}),[Vt]),Jt=Object(p.useMemo)((function(){return new O.Price({baseAsset:e,pools:jt,priceAmount:xt})}),[e,xt,jt]),Xt=Object(p.useMemo)((function(){return new O.Price({baseAsset:n,pools:jt,priceAmount:Ht})}),[n,Ht,jt]);Object(p.useEffect)((function(){if(a){var t=Object(O.getWalletAddressByChain)(a,n.L1Chain);It(t||""),kt(t||"")}}),[a,n]);var Yt=Object(p.useMemo)((function(){return c(e)}),[e,c]),zt=Object(p.useMemo)((function(){return a?Object(O.getAssetBalance)(e,a):O.Amount.fromAssetAmount(Math.pow(10,3),8)}),[e,a]),Kt=Object(p.useCallback)((function(t){r.push(Object(R.q)(t,n))}),[r,n]),Qt=Object(p.useCallback)((function(t){r.push(Object(R.q)(e,t))}),[r,e]),Zt=Object(p.useCallback)((function(){r.push(Object(R.q)(n,e))}),[r,e,n]),te=Object(p.useCallback)((function(t){t.gt(Yt)?At(Yt):At(t)}),[Yt]),ee=Object(p.useCallback)((function(t){var e=Yt.mul(t).div(100);At(e)}),[Yt]),ne=Object(p.useCallback)((function(){ee(100)}),[ee]),re=Object(p.useCallback)(Object(l.a)(u.a.mark((function t(){var e,n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Pt(!1),!a||!Vt){t.next=17;break}return e=rt(Vt),n=$({type:e,submitTx:{inAssets:[{asset:Vt.inputAsset.toString(),amount:Vt.inputAmount.toSignificant(6)}],outAssets:[{asset:Vt.outputAsset.toString(),amount:Vt.outputAmountAfterFee.toSignificant(6)}]}}),t.prev=4,t.next=7,F.a.swap(Vt,Nt,H);case 7:r=t.sent,nt({type:e,uuid:n,submitTx:{inAssets:[{asset:Vt.inputAsset.toString(),amount:Vt.inputAmount.toSignificant(6)}],outAssets:[{asset:Vt.outputAsset.toString(),amount:Vt.outputAmountAfterFee.toSignificant(6)}],txID:r}}),t.next=17;break;case 11:t.prev=11,t.t0=t.catch(4),ot(n),o=null===t.t0||void 0===t.t0?void 0:t.t0.toString(),i=o.includes("No utxos to send")?"Please wait a bit until UTXOs are confirmed and Try again.":o,Object(j.Notification)({type:"error",message:"Submit Transaction Failed.",description:i,duration:20}),console.log(t.t0);case 17:case"end":return t.stop()}var o}),t,null,[[4,11]])}))),[a,Vt,Nt,H,$,nt,ot]),ie=Object(p.useCallback)((function(){Pt(!1)}),[]),ae=Object(p.useCallback)(Object(l.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Lt(!1),!a){t.next=16;break}return n=$({type:A.c.Approve,submitTx:{inAssets:[{asset:e.toString(),amount:"0"}]}}),t.prev=3,t.next=6,F.a.approveAsset(e);case 6:r=t.sent,console.log("approve txhash",r),r&&nt({type:A.c.Swap,uuid:n,submitTx:{inAssets:[{asset:e.toString(),amount:"0"}],txID:r}}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),ot(n),Object(j.Notification)({type:"open",message:"Approve Failed.",duration:20}),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,11]])}))),[e,a,ot,$,nt]),oe=Object(p.useCallback)((function(){if(mt&&Vt){if(Vt.hasInSufficientFee)return void Object(j.Notification)({type:"info",message:"Swap Insufficient Fee",description:"Input amount is not enough to cover the fee"});if(!qt)return void Object(j.Notification)({type:"error",message:"Invalid Recipient Address",description:"Recipient address should be a valid address."});Pt(!0)}else Object(j.Notification)({type:"info",message:"Wallet Not Found",description:"Please connect wallet"})}),[qt,mt,Vt]),ce=Object(p.useCallback)((function(){mt&&Vt?Lt(!0):Object(j.Notification)({type:"info",message:"Wallet Not Found",description:"Please connect wallet"})}),[mt,Vt]),se=Object(p.useMemo)((function(){var t;return lt&&!U.b?{valid:!1,msg:"Swap not available"}:null!==(t=null===Vt||void 0===Vt?void 0:Vt.isValid())&&void 0!==t?t:{valid:!1}}),[Vt,lt]),ue=Object(p.useMemo)((function(){var t;return null===(t=null===Vt||void 0===Vt?void 0:Vt.isSlipValid())||void 0===t||t}),[Vt]),le=Object(p.useMemo)((function(){var t;return se.valid||xt.eq(0)?q?e.isSynth&&n.isSynth?"Buy RUNE":e.isSynth?"Redeem":n.isSynth?"Mint":"Buy RUNE":"Connect Wallet":null!==(t=null===se||void 0===se?void 0:se.msg)&&void 0!==t?t:"Buy RUNE"}),[se.valid,null===se||void 0===se?void 0:se.msg,xt,q,e.isSynth,n.isSynth]),de=Object(p.useMemo)((function(){var t,r,i;return Object(J.jsxs)(Q,{children:[Object(J.jsx)(j.Information,{title:"Send",description:"".concat(xt.toSignificant(6)," ").concat(e.name.toUpperCase())}),Object(J.jsx)(j.Information,{title:"Recipient",description:"".concat(Ht.toSignificant(6)," ").concat(n.name.toUpperCase())}),Object(J.jsx)("br",{}),Object(J.jsx)(j.Information,{title:"Recipient Address",description:Object(P.b)(Nt),error:!qt}),Object(J.jsx)("br",{}),Object(J.jsx)(j.Information,{title:"Slip",description:Gt.toFixed(3),error:!ue,tooltip:E.b}),Object(J.jsx)(j.Information,{title:"Min Received",description:"".concat($t.toSignificant(6)," ").concat(n.name.toUpperCase()),tooltip:E.a}),Object(J.jsx)(j.Information,{title:"Transaction Fee",description:pt.toCurrencyFormat(),tooltip:E.c}),Object(J.jsx)(j.Information,{title:"Affiliate Fee",description:"".concat(null!==(t=Dt.toSignificant(4))&&void 0!==t?t:""," ").concat(e.name.toUpperCase()),tooltip:e.isBTC()||e.isLTC()||e.isDOGE()?"There is currenly no affiliate fee for BTC, LTC or DOGE transactions.":"Transaction fee of ".concat((100*y.b).toFixed(0),"% used to pay affiliates and fund TerraYield.com development.")}),Object(J.jsx)(j.Information,{title:"Network Fee",description:null!==(r=null===ft||void 0===ft?void 0:ft.toCurrencyFormat())&&void 0!==r?r:"",tooltip:"Thorchain network fee used to pay outbound transaction"}),Object(J.jsx)(j.Information,{title:"Total",description:null!==(i=Wt.toCurrencyFormat(2))&&void 0!==i?i:"",tooltip:"Sum of both transaction fee and network fee"})]})}),[xt,Ht,e,n,Nt,Gt,ue,$t,pt,ft,Dt,qt,Wt]),pe=Object(p.useMemo)((function(){return Object(J.jsxs)(Q,{children:[Object(J.jsx)(j.Information,{title:"Approve ".concat(e.name.toUpperCase()),description:""}),Object(J.jsx)(j.Information,{title:"Transaction Fee",description:pt.toCurrencyFormat(),tooltip:E.c})]})}),[pt,e]),fe=Object(p.useMemo)((function(){return"Swap ".concat(e.name," >> ").concat(n.name)}),[e,n]),be=Object(p.useMemo)((function(){return e.isRUNE()?n:e}),[e,n]);return Object(J.jsxs)(X,{meta:fe,poolAsset:be,type:"swap",children:[Object(J.jsx)(it,{children:Object(J.jsx)(j.AssetInputCard,{title:"from",asset:e,assets:vt,amount:xt,balance:zt,onChange:te,onSelect:Kt,onMax:ne,usdPrice:Jt,wallet:a||void 0})}),Object(J.jsx)(Y,{children:Object(J.jsx)(z,{children:Object(J.jsx)(j.IconButton,{onClick:Zt,children:Object(J.jsx)(b.a,{})})})}),Object(J.jsxs)(at,{children:[Object(J.jsx)(j.AssetInputCard,{title:"to",asset:n,assets:vt,amount:Ht,onSelect:Qt,inputProps:{disabled:!0},usdPrice:Xt,wallet:a||void 0}),Object(J.jsx)(Z,{children:Object(J.jsx)(j.AddressSelectCard,{title:"address",address:Nt,chain:n.L1Chain,chainAddr:St,onAddressChange:It})})]}),Object(J.jsx)(tt,{}),null!==st&&a&&Object(J.jsxs)(K,{children:[!st&&Object(J.jsx)(et,{onClick:ce,error:!se.valid,disabled:ut===A.b.Pending||ut===A.b.Submitting,loading:ut===A.b.Pending||ut===A.b.Submitting,children:"Approve"}),mt?Object(J.jsx)(j.FancyButton,{disabled:!st,onClick:oe,error:!se.valid,children:le}):Object(J.jsx)(j.FancyButton,{onClick:V,children:le})]}),!a&&Object(J.jsx)(K,{children:Object(J.jsx)(j.FancyButton,{onClick:oe,error:!se.valid,children:le})}),Object(J.jsx)(j.ConfirmModal,{visible:Bt,onOk:re,onCancel:ie,inputAssets:[e],children:de}),Object(J.jsx)(j.ConfirmModal,{visible:Et,onOk:ae,onCancel:function(){return Lt(!1)},inputAssets:[e],children:pe})]})},ct=function(){var t=T();Object(p.useEffect)((function(){if(t&&null===Object(B.a)()){var e=t.filter((function(t){return F.a.validateAddress({chain:m.m.THORChain,address:t})}));Object(B.g)(e)}}),[t]);var e=Object(f.h)().pair,n=Object(p.useState)(),r=Object(d.a)(n,2),i=r[0],a=r[1];if(e&&""!==e||(e="BTC.BTC_THOR.RUNE"),Object(p.useEffect)((function(){(function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt(e);case 2:(n=t.sent)&&a(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),i){var o=i.inputAsset,c=i.outputAsset;return Object(J.jsx)(ot,{inputAsset:o,outputAsset:c})}return null};e.default=ct}}]);
//# sourceMappingURL=3.dde369ff.chunk.js.map